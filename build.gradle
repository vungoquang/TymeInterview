plugins {
    id 'java'
}

group 'pom.framework'
version '1.0-SNAPSHOT'

sourceCompatibility = 11

repositories {
    mavenCentral()
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testImplementation group: 'io.appium', name: 'java-client', version: '7.0.0'
    testImplementation group: 'org.testng', name: 'testng', version: '6.9.10'
    testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.21'
    testImplementation group: 'au.com.flyingkite', name: 'mobiledetect', version: '1.1.1'
}

// Run gradle with command line
//gradle test -P<platform> -P<appname> -P<testgroup>
//gradle test --tests "tyme.testcases.ios.GetStartIos"

test {
    useJUnitPlatform(
    )
    useTestNG() {
        dependsOn cleanTest
        useDefaultListeners = true
        if (project.hasProperty('android') && project.hasProperty('tyme') && project.hasProperty('smoketest'))
        { suites '/src/test/resources/configurations/TymeDemo.xml'
            }
        }

    reports.html.setDestination(file("$projectDir/src/test/testreports"))
}


